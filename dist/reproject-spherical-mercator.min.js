!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.reproject=t()}}(function(){return function t(e,i,r){function n(s,a){if(!i[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var f=i[s]={exports:{}};e[s][0].call(f.exports,function(t){var i=e[s][1][t];return n(i?i:t)},f,f.exports,t,e,i,r)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)n(r[s]);return n}({1:[function(t,e){function i(t){return t.map(function(t){return n.forward(t)})}var r=t("sphericalmercator"),n=new r({size:256}),o=function(t){var e={type:t.type};if("Point"==t.type)e.coordinates=n.forward(t.coordinates);else if("LineString"==t.type||"MultiPoint"==t.type)e.coordinates=i(t.coordinates);else if("Polygon"==t.type||"MultiLineString"==t.type)e.coordinates=t.coordinates.map(function(t){return i(t)});else if("MultiPolygon"==t.type)e.coordinates=t.coordinates.map(function(t){return t.map(function(t){return i(t)})});else{if("Feature"!=t.type)throw"Not valid geojson";e.geometry=o(t.geometry),t.id&&(e.id=t.id),t.properties&&(e.properties=t.properties)}return e};e.exports=o},{sphericalmercator:2}],2:[function(t,e,i){var r=function(){function t(t){if(t=t||{},this.size=t.size||256,!e[this.size]){var i=this.size,r=e[this.size]={};r.Bc=[],r.Cc=[],r.zc=[],r.Ac=[];for(var n=0;30>n;n++)r.Bc.push(i/360),r.Cc.push(i/(2*Math.PI)),r.zc.push(i/2),r.Ac.push(i),i*=2}this.Bc=e[this.size].Bc,this.Cc=e[this.size].Cc,this.zc=e[this.size].zc,this.Ac=e[this.size].Ac}var e={},i=Math.PI/180,r=180/Math.PI,n=6378137,o=20037508.342789244;return t.prototype.px=function(t,e){var r=this.zc[e],n=Math.min(Math.max(Math.sin(i*t[1]),-.9999),.9999),o=Math.round(r+t[0]*this.Bc[e]),s=Math.round(r+.5*Math.log((1+n)/(1-n))*-this.Cc[e]);return o>this.Ac[e]&&(o=this.Ac[e]),s>this.Ac[e]&&(s=this.Ac[e]),[o,s]},t.prototype.ll=function(t,e){var i=(t[1]-this.zc[e])/-this.Cc[e],n=(t[0]-this.zc[e])/this.Bc[e],o=r*(2*Math.atan(Math.exp(i))-.5*Math.PI);return[n,o]},t.prototype.bbox=function(t,e,i,r,n){r&&(e=Math.pow(2,i)-1-e);var o=[t*this.size,(+e+1)*this.size],s=[(+t+1)*this.size,e*this.size],a=this.ll(o,i).concat(this.ll(s,i));return"900913"===n?this.convert(a,"900913"):a},t.prototype.xyz=function(t,e,i,r){"900913"===r&&(t=this.convert(t,"WGS84"));var n=[t[0],t[1]],o=[t[2],t[3]],s=this.px(n,e),a=this.px(o,e),c={minX:Math.floor(s[0]/this.size),minY:Math.floor(a[1]/this.size),maxX:Math.floor((a[0]-1)/this.size),maxY:Math.floor((s[1]-1)/this.size)};if(i){var h={minY:Math.pow(2,e)-1-c.maxY,maxY:Math.pow(2,e)-1-c.minY};c.minY=h.minY,c.maxY=h.maxY}return c},t.prototype.convert=function(t,e){return"900913"===e?this.forward(t.slice(0,2)).concat(this.forward(t.slice(2,4))):this.inverse(t.slice(0,2)).concat(this.inverse(t.slice(2,4)))},t.prototype.forward=function(t){var e=[n*t[0]*i,n*Math.log(Math.tan(.25*Math.PI+.5*t[1]*i))];return e[0]>o&&(e[0]=o),e[0]<-o&&(e[0]=-o),e[1]>o&&(e[1]=o),e[1]<-o&&(e[1]=-o),e},t.prototype.inverse=function(t){return[t[0]*r/n,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/n)))*r]},t}();"undefined"!=typeof e&&"undefined"!=typeof i&&(e.exports=i=r)},{}]},{},[1])(1)});
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.reproject=t()}}(function(){return function t(e,i,r){function o(s,a){if(!i[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(n)return n(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var h=i[s]={exports:{}};e[s][0].call(h.exports,function(t){var i=e[s][1][t];return o(i?i:t)},h,h.exports,t,e,i,r)}return i[s].exports}for(var n="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e){function i(t){return t.map(function(t){return o.forward(t)})}var r=t("sphericalmercator"),o=new r({size:256}),n=function(t){var e={type:t.type};if("Point"==t.type)e.coordinates=o.forward(t.coordinates);else if("LineString"==t.type||"MultiPoint"==t.type)e.coordinates=i(t.coordinates);else if("Polygon"==t.type||"MultiLineString"==t.type)e.coordinates=t.coordinates.map(function(t){return i(t)});else if("MultiPolygon"==t.type)e.coordinates=t.coordinates.map(function(t){return t.map(function(t){return i(t)})});else if("Feature"==t.type)e.geometry=n(t.geometry),t.id&&(e.id=t.id),t.properties&&(e.properties=t.properties);else if("FeatureCollection"==t.type)e.features=t.features.map(function(t){return n(t)});else{if("GeometryCollection"!=t.type)throw new Error("Not a valid geojson");e.geometries=t.geometries.map(function(t){return n(t)})}return e};e.exports=n},{sphericalmercator:2}],2:[function(t,e,i){var r=function(){function t(t){if(t=t||{},this.size=t.size||256,!e[this.size]){var i=this.size,r=e[this.size]={};r.Bc=[],r.Cc=[],r.zc=[],r.Ac=[];for(var o=0;30>o;o++)r.Bc.push(i/360),r.Cc.push(i/(2*Math.PI)),r.zc.push(i/2),r.Ac.push(i),i*=2}this.Bc=e[this.size].Bc,this.Cc=e[this.size].Cc,this.zc=e[this.size].zc,this.Ac=e[this.size].Ac}var e={},i=Math.PI/180,r=180/Math.PI,o=6378137,n=20037508.342789244;return t.prototype.px=function(t,e){var r=this.zc[e],o=Math.min(Math.max(Math.sin(i*t[1]),-.9999),.9999),n=Math.round(r+t[0]*this.Bc[e]),s=Math.round(r+.5*Math.log((1+o)/(1-o))*-this.Cc[e]);return n>this.Ac[e]&&(n=this.Ac[e]),s>this.Ac[e]&&(s=this.Ac[e]),[n,s]},t.prototype.ll=function(t,e){var i=(t[1]-this.zc[e])/-this.Cc[e],o=(t[0]-this.zc[e])/this.Bc[e],n=r*(2*Math.atan(Math.exp(i))-.5*Math.PI);return[o,n]},t.prototype.bbox=function(t,e,i,r,o){r&&(e=Math.pow(2,i)-1-e);var n=[t*this.size,(+e+1)*this.size],s=[(+t+1)*this.size,e*this.size],a=this.ll(n,i).concat(this.ll(s,i));return"900913"===o?this.convert(a,"900913"):a},t.prototype.xyz=function(t,e,i,r){"900913"===r&&(t=this.convert(t,"WGS84"));var o=[t[0],t[1]],n=[t[2],t[3]],s=this.px(o,e),a=this.px(n,e),c={minX:Math.floor(s[0]/this.size),minY:Math.floor(a[1]/this.size),maxX:Math.floor((a[0]-1)/this.size),maxY:Math.floor((s[1]-1)/this.size)};if(i){var f={minY:Math.pow(2,e)-1-c.maxY,maxY:Math.pow(2,e)-1-c.minY};c.minY=f.minY,c.maxY=f.maxY}return c},t.prototype.convert=function(t,e){return"900913"===e?this.forward(t.slice(0,2)).concat(this.forward(t.slice(2,4))):this.inverse(t.slice(0,2)).concat(this.inverse(t.slice(2,4)))},t.prototype.forward=function(t){var e=[o*t[0]*i,o*Math.log(Math.tan(.25*Math.PI+.5*t[1]*i))];return e[0]>n&&(e[0]=n),e[0]<-n&&(e[0]=-n),e[1]>n&&(e[1]=n),e[1]<-n&&(e[1]=-n),e},t.prototype.inverse=function(t){return[t[0]*r/o,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/o)))*r]},t}();"undefined"!=typeof e&&"undefined"!=typeof i&&(e.exports=i=r)},{}]},{},[1])(1)});